"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{3095:function(e,s,t){t.d(s,{y:function(){return Calculator}});var a,l,n=t(7573),i=t(7653),r=t(6829),o=t(3831);let c=r.fC,d=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(r.aV,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});d.displayName=r.aV.displayName;let u=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(r.xz,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});u.displayName=r.xz.displayName;let m=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(r.VY,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});m.displayName=r.VY.displayName;var f=t(4714),x=t(1472),p=t(5772),h=t(2793),g=t(2897),j=t(9933),N=t(3507),y=t(1714);let b=N.fC,w=N.xz,v=N.h_,C=N.x8,S=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(N.aV,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});S.displayName=N.aV.displayName;let F=i.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,n.jsxs)(v,{children:[(0,n.jsx)(S,{}),(0,n.jsxs)(N.VY,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[a,(0,n.jsxs)(N.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(y.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});F.displayName=N.VY.displayName;let DialogHeader=e=>{let{className:s,...t}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};DialogHeader.displayName="DialogHeader";let DialogFooter=e=>{let{className:s,...t}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};DialogFooter.displayName="DialogFooter";let k=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(N.Dx,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});k.displayName=N.Dx.displayName;let H=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(N.dk,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});H.displayName=N.dk.displayName;var V=t(5380),D=t(6073);function ConfirmDialog(e){let{title:s,description:t,trigger:a,confirm:l,cancel:i,onConfirm:r}=e,{t:o}=(0,f.useLanguage)();return(0,n.jsxs)(b,{children:[(0,n.jsx)(w,{asChild:!0,children:a}),(0,n.jsxs)(F,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(DialogHeader,{children:[(0,n.jsx)(k,{children:s}),(0,n.jsx)(H,{children:t})]}),(0,n.jsxs)(DialogFooter,{children:[(0,n.jsx)(C,{asChild:!0,children:i||(0,n.jsx)(V.z,{variant:"secondary",children:o(D.sr.ConfirmDialogCancelButton)})}),(0,n.jsx)(C,{onClick:r,asChild:!0,children:l})]})]})]})}var O=t(8192),z=t(6817),E=t(2351);(a=l||(l={})).YAML="YAML",a.JSON="JSON",a.CSV="CSV",a.PDF="PDF";let R=Object.values(l),transformContext=(e,s)=>({source:"https://stopghg.com/calculator/scope1",version:eg,created:new Date().toString(),gwpSet:e.gwpSet.name,industry:s(f.IndustryIndustryNameKey[e.industry]),totalEmissionsTons:e.emissions,partialEmissions:e.fuels.filter(isFuelEntryValid).map(e=>({fuel:s(f.FuelFuelNameKey[e.fuel]),quantity:parseFloat(e.quantity),unit:s(f.UnitUnitNameKey[e.unit]),isHHV:e.isHHV,emissionsTons:e.emissions}))});function Download(e){let{context:s}=e,{t}=(0,f.useLanguage)(),handleDownload=e=>{let a;if(!s)return;let l=transformContext(s,t);switch(e){case"YAML":a=(0,E.Pz)(l);break;case"JSON":a=JSON.stringify(l,null,2);break;case"CSV":a=["gwpSet,industry,fuel,quantity,unit,isHHV,CO2,CH4,N2O,CO2e",...l.partialEmissions.map(e=>[l.gwpSet,l.industry,e.fuel,e.quantity,e.unit,e.isHHV,e.emissionsTons.CO2,e.emissionsTons.CH4,e.emissionsTons.N2O,e.emissionsTons.CO2e].join(","))].join("\n");break;default:return}let n=new Blob(["\uFEFF",a],{type:"text/plain"}),i=URL.createObjectURL(n);window.open(i,"_blank")};return(0,n.jsxs)(O.h_,{children:[(0,n.jsx)(O.$F,{asChild:!0,children:(0,n.jsxs)(V.z,{className:"p-3 text-xgray focus-visible:ring-0 focus-visible:ring-offset-0",variant:"default",disabled:!s,children:[t(D.sr.DownloadButton)," ",(0,n.jsx)(z.Z,{className:"ml-2 h-4 w-4"})]})}),s&&(0,n.jsx)(O.AW,{children:R.map(e=>(0,n.jsx)(O.Xi,{disabled:"PDF"===e,onClick:()=>handleDownload(e),"data-method":"download-".concat(e),children:e.toString()},e))})]})}var Z=t(4015),G=t(3967),U=t(2827);let T=Z.fC,_=Z.ZA,L=Z.B4,Y=i.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,n.jsxs)(Z.xz,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[a,(0,n.jsx)(Z.JO,{asChild:!0,children:(0,n.jsx)(z.Z,{className:"h-4 w-4 opacity-50"})})]})});Y.displayName=Z.xz.displayName;let P=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(Z.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(G.Z,{className:"h-4 w-4"})})});P.displayName=Z.u_.displayName;let I=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(Z.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(z.Z,{className:"h-4 w-4"})})});I.displayName=Z.$G.displayName;let A=i.forwardRef((e,s)=>{let{className:t,children:a,position:l="popper",...i}=e;return(0,n.jsx)(Z.h_,{children:(0,n.jsxs)(Z.VY,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,n.jsx)(P,{}),(0,n.jsx)(Z.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,n.jsx)(I,{})]})})});A.displayName=Z.VY.displayName;let q=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(Z.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})});q.displayName=Z.__.displayName;let K=i.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,n.jsxs)(Z.ck,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(Z.wU,{children:(0,n.jsx)(U.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(Z.eT,{children:a})]})});K.displayName=Z.ck.displayName;let B=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,n.jsx)(Z.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...a})});B.displayName=Z.Z0.displayName;let W=Object.values(x.FuelType).sort(),J=W.reduce((e,s)=>(e[s]=Object.values(x.FuelHierarchy[s]).sort(),e),{});function FuelSelector(e){let{onSelected:s,fuel:t}=e,{t:a}=(0,f.useLanguage)();return(0,n.jsxs)(T,{onValueChange:e=>{(0,o.b)("select","select-fuel-".concat(e)),s(e)},children:[(0,n.jsx)(Y,{className:"w-full",children:(0,n.jsx)(L,{placeholder:t?a(f.FuelFuelNameKey[t]):a(D.sr.DropdownSelectPlaceholder)})}),(0,n.jsx)(A,{children:W.map((e,s)=>(0,n.jsxs)(_,{children:[(0,n.jsx)(q,{children:a(f.FuelFuelTypelNameKey[e])}),J[e].map((e,t)=>(0,n.jsx)(K,{value:e,className:"ml-4",children:a(f.FuelFuelNameKey[e])},"".concat(s,"-").concat(t)))]},s))})]})}function HHVSelector(e){let{onSelected:s,unit:t,isHHV:a}=e;return(0,n.jsxs)(T,{onValueChange:e=>{(0,o.b)("select","select-hhv-".concat("HHV"===e)),s("HHV"===e)},children:[(0,n.jsx)(Y,{className:"",children:(0,n.jsx)(L,{placeholder:a?"HHV":"LHV"})}),(0,n.jsxs)(A,{children:[(0,n.jsx)(K,{value:"LHV",children:"LHV"}),(0,n.jsx)(K,{value:"HHV",children:"HHV"})]})]})}var M=t(4447);function QuantityInput(e){let{onSelected:s,quantity:t,fuel:a}=e,l=parseFloat(t||"0"),i=void 0!==t&&(isNaN(l)||l<0);return(0,n.jsx)(M.I,{type:"number",disabled:!a,className:a&&i&&"border-red-600 bg-red-100"||!a&&"bg-xgray"||"",min:0,value:t,onChange:e=>s(e.target.value)})}let Q=Object.keys(x.FuelUnits).reduce((e,s)=>(e[s]=Object.values(x.FuelUnits[s]).sort(),e),{});function UnitSelector(e){let{onSelected:s,fuel:t,unit:a}=e,{t:l}=(0,f.useLanguage)();return(0,n.jsxs)(T,{disabled:!t,onValueChange:e=>{(0,o.b)("select","select-unit-".concat(e.toString())),s(e)},children:[(0,n.jsx)(Y,{className:(0,o.cn)(!t&&"bg-xgray"||!a&&"border-red-600 bg-red-100"),children:(0,n.jsx)(L,{defaultValue:a&&a.toString(),placeholder:t&&a?l(f.UnitUnitNameKey[a]):l(D.sr.DropdownSelectPlaceholder)})}),(0,n.jsx)(A,{children:t&&Q[t].map((e,s)=>(0,n.jsx)(K,{value:e,children:l(f.UnitUnitNameKey[e])},s))})]})}var $=t(9417);function GasEmissionCard(e){let{gas:s,emission:t,small:a}=e,{t:l}=(0,f.useLanguage)();return(0,n.jsxs)(p.Zb,{className:(0,o.cn)(a?"min-w-[100px] max-w-[100px] min-h-[100px] max-h-[100px]":"min-w-[200px] max-w-[200px] min-h-[200px] max-h-[200px]",s===x.SyntheticGas.CO2e?"bg-xgreen1 text-xgray border-xgreen1":"bg-xgray"),children:[(0,n.jsxs)(p.Ol,{className:(0,o.cn)("items-center",a&&"p-2"),children:[(0,n.jsx)(p.ll,{className:(0,o.cn)(a&&"text-sm"),children:function(e){let{gas:s}=e;switch(s){case x.Gas.CO2:return"CO₂";case x.Gas.CH4:return"CH₄";case x.Gas.N2O:return"N₂O";case x.SyntheticGas.CO2e:return"CO₂e"}}({gas:s})}),(0,n.jsx)(p.SZ,{className:(0,o.cn)(a&&"text-xs",s===x.SyntheticGas.CO2e&&"text-xgray"),children:l(D.sr.GasEmissionCardDescription)})]}),(0,n.jsx)(p.aY,{className:(0,o.cn)("flex justify-center items-stretch w-[100%]",a?"p-2":"p-2 sm:p-6"),children:(0,n.jsx)("div",{className:(0,o.cn)("font-semibold text-4xl",a&&"text-lg"),children:void 0===t?"?":t.toExponential(a?1:2)})})]})}var X=t(5067),ee=t(733);let es=ee.fC,et=ee.xz,ea=i.forwardRef((e,s)=>{let{className:t,align:a="center",sideOffset:l=4,...i}=e;return(0,n.jsx)(ee.h_,{children:(0,n.jsx)(ee.VY,{ref:s,align:a,sideOffset:l,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});function Info(e){let{text:s,triggerText:t,gtmMethod:a}=e;return(0,n.jsxs)(es,{children:[(0,n.jsx)(et,{asChild:!0,children:(0,n.jsxs)(V.z,{variant:"link",className:"flex gap-1 p-0",disabled:!s,"data-method":a,children:[t,(0,n.jsx)(X.Z,{className:"w-4 h-4","data-method":a})]})}),(0,n.jsx)(ea,{className:"w-80",children:(0,n.jsx)("span",{className:"text-s text-muted-foreground",children:s})})]})}ea.displayName=ee.VY.displayName;let isHHVSelectorVisible=e=>e&&x.UnitUnitType[e]===x.UnitType.Energy;function FuelEntryCard(e){var s,t,a,l;let{entry:i,onChange:r,onDelete:c}=e,{t:d}=(0,f.useLanguage)(),handleUnitSelected=e=>{if(e!==i.unit){let s={...i,unit:e};void 0!==e&&x.UnitUnitType[e]!==x.UnitType.Energy&&(s.isHHV=void 0),r(s)}};return(0,n.jsx)(p.Zb,{className:"w-full overflow-hidden",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row w-full flex-wrap relative",children:[(0,n.jsxs)(p.aY,{className:"gap-4 flex flex-col pt-6 relative min-w-[250px] sm:max-w-[250px]",children:[(0,n.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,n.jsx)($._,{className:"text-muted-foreground",children:d(D.sr.FuelEntryCardFuel)}),(0,n.jsxs)("div",{className:"flex w-full gap-2 items-center justify-stretch",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(FuelSelector,{fuel:i.fuel,onSelected:e=>{if(e!==i.fuel){let s={...i,fuel:e};void 0!==s.unit&&-1===x.FuelUnits[e].indexOf(s.unit)&&(s.unit=void 0,s.isHHV=void 0),r(s)}}})}),(0,n.jsx)(Info,{text:i.fuel&&f.FuelFuelDescriptionKey[i.fuel]&&d(f.FuelFuelDescriptionKey[i.fuel])})]})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,n.jsx)($._,{className:"text-muted-foreground",children:d(D.sr.FuelEntryCardQuantity)}),(0,n.jsx)(QuantityInput,{fuel:i.fuel,quantity:i.quantity,onSelected:e=>r({...i,quantity:e})})]}),(0,n.jsxs)("div",{className:"flex w-full gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2 min-w-[100px] max-w-[150px]",children:[(0,n.jsx)($._,{className:"text-muted-foreground",children:d(D.sr.FuelEntryCardUnit)}),(0,n.jsx)(UnitSelector,{fuel:i.fuel,unit:i.unit,onSelected:e=>handleUnitSelected(e)})]}),isHHVSelectorVisible(i.unit)&&(0,n.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[(0,n.jsx)($._,{className:"text-muted-foreground",children:"LHV/HHV"}),(0,n.jsx)(HHVSelector,{unit:i.unit,isHHV:i.isHHV,onSelected:e=>r({...i,isHHV:e})})]})]})]}),(0,n.jsxs)(p.aY,{className:"gap-4 flex flex-wrap items-center justify-center w-full pt-8 flex-1 bg-xgreen3",children:[(0,n.jsx)(GasEmissionCard,{gas:x.SyntheticGas.CO2e,emission:null===(s=i.emissions)||void 0===s?void 0:s.CO2e,small:!0}),(0,n.jsx)(GasEmissionCard,{gas:x.Gas.CO2,emission:null===(t=i.emissions)||void 0===t?void 0:t.CO2,small:!0}),(0,n.jsx)(GasEmissionCard,{gas:x.Gas.CH4,emission:null===(a=i.emissions)||void 0===a?void 0:a.CH4,small:!0}),(0,n.jsx)(GasEmissionCard,{gas:x.Gas.N2O,emission:null===(l=i.emissions)||void 0===l?void 0:l.N2O,small:!0})]}),(0,n.jsx)(V.z,{className:"absolute top-1 right-1 p-2 h-8",variant:"ghost",onClick:()=>{(0,o.b)("select","delete-fuel-entry"),c()},children:(0,n.jsx)(j.Z,{className:"text-xblack w-4 h-4"})})]})})}function GWPSetSelector(e){let{onSelected:s,gwpSet:t}=e;return(0,n.jsxs)(T,{onValueChange:e=>{(0,o.b)("select","select-gwpSet-".concat(e)),s(x.GWPSets[+e])},children:[(0,n.jsx)(Y,{className:"w-full",children:(0,n.jsx)(L,{placeholder:t.name})}),(0,n.jsx)(A,{children:(0,n.jsx)(_,{children:x.GWPSets.map((e,s)=>(0,n.jsx)(K,{value:s.toString(),children:e.name},s))})})]})}let el=Object.values(x.Industry).sort();function IndustrySelector(e){let{onSelected:s,industry:t}=e,{t:a}=(0,f.useLanguage)();return(0,n.jsxs)(T,{onValueChange:e=>{(0,o.b)("select","select-industry-".concat(e)),s(e)},children:[(0,n.jsx)(Y,{className:"w-full",children:(0,n.jsx)(L,{placeholder:a(f.IndustryIndustryNameKey[t])})}),(0,n.jsx)(A,{children:(0,n.jsx)(_,{children:el.map((e,s)=>(0,n.jsx)(K,{value:e,children:a(f.IndustryIndustryNameKey[e])},s))})})]})}var en=t(4508),ei=t(6180),er=t(3092),eo=t(9484);let ec=(0,eo.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),ed=i.forwardRef((e,s)=>{let{className:t,variant:a,size:l,...i}=e;return(0,n.jsx)(er.f,{ref:s,className:(0,o.cn)(ec({variant:a,size:l,className:t})),...i})});ed.displayName=er.f.displayName;let eu=i.createContext({size:"default",variant:"default"}),em=i.forwardRef((e,s)=>{let{className:t,variant:a,size:l,children:i,...r}=e;return(0,n.jsx)(ei.fC,{ref:s,className:(0,o.cn)("flex items-center justify-center gap-1",t),...r,children:(0,n.jsx)(eu.Provider,{value:{variant:a,size:l},children:i})})});em.displayName=ei.fC.displayName;let ef=i.forwardRef((e,s)=>{let{className:t,children:a,variant:l,size:r,...c}=e,d=i.useContext(eu);return(0,n.jsx)(ei.ck,{ref:s,className:(0,o.cn)(ec({variant:d.variant||l,size:d.size||r}),t),...c,children:a})});ef.displayName=ei.ck.displayName;var ex=t(9229),ep=t(124),eh=t(1689);function FeedbackDialog(e){let{trigger:s,cancel:t}=e,[a,l]=(0,i.useState)(!1),[r,o]=(0,i.useState)({comments:""}),{t:c}=(0,f.useLanguage)(),{toast:d}=(0,ep.pm)(),{isMutating:u,error:m,trigger:x}=(0,eh.N)({url:eh.t,afterSuccess:async()=>{d({title:c(D.sr.FeedbackSuccess)}),o({comments:""}),l(!1)}});if(m)throw m;return(0,n.jsxs)(b,{open:a,onOpenChange:l,children:[(0,n.jsx)(w,{asChild:!0,children:s}),(0,n.jsxs)(F,{className:"sm:max-w-[425px]",children:[(0,n.jsx)(DialogHeader,{children:(0,n.jsx)(k,{children:c(D.sr.CalcFeedbackDialogTitle)})}),(0,n.jsx)(H,{children:c(D.sr.CalcFeedbackDialogNPSQuestion)}),(0,n.jsxs)("div",{children:[(0,n.jsx)(em,{type:"single",className:"flex justify-between",value:r.nps,onValueChange:e=>o({...r,nps:e}),children:Array(11).fill(0).map((e,s)=>(0,n.jsx)(ef,{size:"sm",variant:"outline",value:s.toString(),className:"pl-1 pr-1 sm:pl-2 sm:pr-2",children:s},s))}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:c(D.sr.CalcFeedbackDialogNPSAnswerUnlikely)}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:c(D.sr.CalcFeedbackDialogNPSAnswerLikely)})]})]}),(0,n.jsx)($._,{htmlFor:"comment",className:"text-muted-foreground",children:c(D.sr.CalcFeedbackDialogComment)}),(0,n.jsx)(ex.g,{className:"resize-none",id:"comment",rows:3,value:r.comments,onChange:e=>o({...r,comments:e.target.value})}),(0,n.jsxs)(DialogFooter,{children:[(0,n.jsx)(C,{asChild:!0,children:t||(0,n.jsx)(V.z,{variant:"secondary",children:c(D.sr.ConfirmDialogCancelButton)})}),(0,n.jsx)(V.z,{"data-method":"submit-feedback",onClick:()=>{if(void 0!==r.nps||""!==r.comments.trim()){let e={text:[":+1::-1: New feeback","*Timestamp*: ".concat(new Date().toISOString()),"*Source*: ".concat(window.location.pathname),"*NPS*: ".concat(r.nps||"N/A"),"*Comments*: ".concat(r.comments.trim()||"N/A")].join("\n")};x(e)}else o({comments:""}),l(!1)},disabled:u,children:c(D.sr.CalcFeedbackDialogSubmitButton)})]})]})]})}let eg="1.0.0",ej=[x.SyntheticGas.CO2e,x.Gas.CO2,x.Gas.CH4,x.Gas.N2O],isFuelEntryValid=e=>e.fuel&&e.unit&&!isNaN(parseFloat(e.quantity))&&parseFloat(e.quantity)>=0;function Section1Calculator(e){let{}=e,{t:s}=(0,f.useLanguage)(),{localState:t,setLocalState:a}=(0,en.useLocalState)(),[l,r]=(0,i.useState)(!1),o=t.section1CalculatorContext,c=(0,i.useCallback)(e=>{a({...t,section1CalculatorContext:e})},[a,t]),d=(0,i.useCallback)(()=>{let e={schemaVersion:1,emissions:{CO2:0,CH4:0,N2O:0,CO2e:0},gwpSet:x.GWPSets[0],industry:x.Industry.Manufacturing,fuels:[{quantity:""}]};c(e)},[c]);(0,i.useEffect)(()=>{o&&1===o.schemaVersion||d()},[o,d]),(0,i.useEffect)(()=>{if(o&&l){let e=o.fuels.filter(isFuelEntryValid),s={gwpSet:o.gwpSet,fuels:e.map(e=>({fuel:e.fuel,quantity:parseFloat(e.quantity),unit:e.unit,isHHV:e.isHHV,industry:o.industry}))},t=(0,x.calculateSection1Emissions)(s),a=[...o.fuels];t.fuels.forEach((s,t)=>{let l=e[t],n=a.indexOf(l);a[n]={...a[n],emissions:s.emissions}}),r(!1),c({...o,fuels:a,emissions:t.emissions})}},[o,c,l,r]);let updateFuelEntry=(e,s)=>{if(o){let t=[...o.fuels];t[e]=s,isFuelEntryValid(s)||(s.emissions=void 0),c({...o,fuels:t}),r(!0)}},handleDeleteFuel=e=>{if(o){let s=[...o.fuels];s.splice(e,1),c({...o,fuels:s}),r(!0)}},handleReset=async()=>{d()};return o?(0,n.jsxs)("div",{className:"flex flex-col gap-6 w-full p-0 pt-1",children:[(0,n.jsxs)(p.Zb,{className:"bg-xgreen3 flex flex-col overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex bg-xgreen3 text-xgray p-2 w-full justify-between",children:[(0,n.jsx)(Download,{context:o}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(FeedbackDialog,{trigger:(0,n.jsxs)(V.z,{className:"p-3 text-xgray",variant:"default","data-method":"feedback",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4"}),(0,n.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),s(D.sr.CalcFeedbackButton)]})}),(0,n.jsx)(ConfirmDialog,{title:s(D.sr.CalcClearAllDialogTitle),description:s(D.sr.CalcClearAllDialogDescription),confirm:(0,n.jsx)(V.z,{"data-method":"reset-calculator-confirm",children:s(D.sr.CalcClearAllDialogConfirmButton)}),onConfirm:handleReset,trigger:(0,n.jsxs)(V.z,{className:"p-3 text-xgray",variant:"default","data-method":"reset-calculator",children:[(0,n.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),s(D.sr.CalcClearAllButton)]})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(p.Ol,{children:[(0,n.jsx)(p.ll,{className:"font-alice",children:s(D.sr.CalcScope1EmissionsTitle)}),(0,n.jsx)(p.SZ,{className:"text-xblack",children:s(D.sr.CalcScope1EmissionsDefinition)})]}),(0,n.jsx)(p.aY,{className:"gap-4 flex-wrap w-full items-center justify-center hidden lg:flex",children:ej.map(e=>(0,n.jsx)(GasEmissionCard,{gas:e,emission:o.emissions[e]},e))}),(0,n.jsx)(p.aY,{className:"gap-4 flex-wrap w-full items-center justify-center flex lg:hidden",children:ej.map(e=>(0,n.jsx)(GasEmissionCard,{gas:e,emission:o.emissions[e],small:!0},e))})]})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 w-full",children:[(0,n.jsxs)(p.Zb,{className:"flex flex-col",children:[(0,n.jsxs)(p.Ol,{children:[(0,n.jsx)(p.ll,{className:"font-alice",children:s(D.sr.CalcYourIndustryTitle)}),(0,n.jsx)(p.SZ,{children:s(D.sr.CalcYourIndustryDescription)})]}),(0,n.jsx)(p.aY,{className:"gap-6 flex flex-col flex-1 justify-end",children:(0,n.jsx)(IndustrySelector,{industry:o.industry,onSelected:e=>{o&&(c({...o,industry:e}),r(!0))}})})]}),(0,n.jsxs)(p.Zb,{className:"flex flex-col",children:[(0,n.jsxs)(p.Ol,{children:[(0,n.jsx)(p.ll,{className:"font-alice",children:s(D.sr.CalcGWPTitle)}),(0,n.jsx)(p.SZ,{children:s(D.sr.CalcGWPDescription)})]}),(0,n.jsx)(p.aY,{className:"gap-6 flex flex-col flex-1 justify-end",children:(0,n.jsx)(GWPSetSelector,{gwpSet:o.gwpSet,onSelected:e=>{o&&(c({...o,gwpSet:e}),r(!0))}})})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsxs)(p.Ol,{children:[(0,n.jsx)(p.ll,{className:"font-alice",children:s(D.sr.CalcFuelConsumptionTitle)}),(0,n.jsx)(p.SZ,{children:s(D.sr.CalcFuelConsumptionDescription)})]}),(0,n.jsxs)(p.aY,{className:"gap-6 flex flex-col",children:[o.fuels.map((e,s)=>(0,n.jsx)(FuelEntryCard,{entry:e,onChange:e=>updateFuelEntry(s,e),onDelete:()=>handleDeleteFuel(s)},s)),(0,n.jsx)("div",{children:(0,n.jsx)(V.z,{onClick:()=>{if(o){let e=[...o.fuels,{quantity:""}];c({...o,fuels:e})}},"data-method":"add-fuel-entry",children:s(D.sr.CalcButtonAddFuel)})})]})]})]}):(0,n.jsx)(n.Fragment,{})}var eN=t(2859),ey=t(2906);function CalculatorStub(e){let{scope:s,description:t,title:a}=e;return(0,n.jsx)("div",{className:"flex flex-col gap-6 w-full p-0 pt-1",children:(0,n.jsxs)(p.Zb,{className:"bg-xgreen3",children:[(0,n.jsxs)(p.Ol,{children:[(0,n.jsx)(p.ll,{className:"font-alice",children:a}),(0,n.jsx)(p.SZ,{className:"text-xblack",children:t})]}),(0,n.jsx)(p.aY,{className:"flex w-full justify-center",children:(0,n.jsx)(ey.r,{noTitle:!0})})]})})}function Calculator(e){let{scope:s}=e,{t}=(0,f.useLanguage)(),a=(0,eN.useRouter)(),handleClickScope=e=>{s!==e&&a.push("scope".concat(e))};return(0,n.jsxs)("div",{className:"container flex flex-col gap-6 max-w-[1000px] p-1 sm:p-6",children:[(0,n.jsx)("h1",{className:"text-xl font-extrabold tracking-tight lg:text-3xl text-xblack font-alice mt-3 text-center",children:t(D.sr.CalcTitle)}),(0,n.jsxs)(c,{defaultValue:s,className:"w-full",children:[(0,n.jsx)(d,{className:"grid w-full grid-cols-3 bg-xgreen1",children:["1","2","3"].map(e=>(0,n.jsxs)(u,{value:e,className:"text-xwhite data-[state=active]:bg-xblack data-[state=active]:text-xwhite",onClick:s=>{handleClickScope(e),s.preventDefault()},"data-method":"select-scope-".concat(e),children:[t(D.sr.CalcScopeTabPrefix)," ",e]},e))}),(0,n.jsx)(m,{value:"1",children:(0,n.jsx)(Section1Calculator,{})}),(0,n.jsx)(m,{value:"2",children:(0,n.jsx)(CalculatorStub,{scope:"2",description:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:t(D.sr.CalcScope2EmissionsDefinitionLine1)}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:t(D.sr.CalcScope2EmissionsDefinitionLine2)})]}),title:t(D.sr.CalcScope2EmissionsTitle)})}),(0,n.jsx)(m,{value:"3",children:(0,n.jsx)(CalculatorStub,{scope:"2",description:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:t(D.sr.CalcScope3EmissionsDefinitionLine1)}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:t(D.sr.CalcScope3EmissionsDefinitionLine2)})]}),title:t(D.sr.CalcScope3EmissionsTitle)})})]})]})}},8192:function(e,s,t){t.d(s,{$F:function(){return u},AW:function(){return p},Qk:function(){return m},Xi:function(){return h},h_:function(){return d}});var a=t(7573),l=t(7653),n=t(7248),i=t(5405),r=t(2827),o=t(4426),c=t(3831);let d=n.fC,u=n.xz,m=n.ZA;n.Uv,n.Tr,n.Ee;let f=l.forwardRef((e,s)=>{let{className:t,inset:l,children:r,...o}=e;return(0,a.jsxs)(n.fF,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",t),...o,children:[r,(0,a.jsx)(i.Z,{className:"ml-auto h-4 w-4"})]})});f.displayName=n.fF.displayName;let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.tu,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});x.displayName=n.tu.displayName;let p=l.forwardRef((e,s)=>{let{className:t,sideOffset:l=4,...i}=e;return(0,a.jsx)(n.Uv,{children:(0,a.jsx)(n.VY,{ref:s,sideOffset:l,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});p.displayName=n.VY.displayName;let h=l.forwardRef((e,s)=>{let{className:t,inset:l,...i}=e;return(0,a.jsx)(n.ck,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",t),...i})});h.displayName=n.ck.displayName;let g=l.forwardRef((e,s)=>{let{className:t,children:l,checked:i,...o}=e;return(0,a.jsxs)(n.oC,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(r.Z,{className:"h-4 w-4"})})}),l]})});g.displayName=n.oC.displayName;let j=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(n.Rk,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),l]})});j.displayName=n.Rk.displayName;let N=l.forwardRef((e,s)=>{let{className:t,inset:l,...i}=e;return(0,a.jsx)(n.__,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",t),...i})});N.displayName=n.__.displayName;let y=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...l})});y.displayName=n.Z0.displayName}}]);